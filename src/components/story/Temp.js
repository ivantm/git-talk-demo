import React, { Component } from 'react';
import { Spring, animated } from 'react-spring';
import { interpolate } from 'flubber';
import { LinearGradient } from '@vx/gradient';

export default class Temp extends Component {
  state = {
    paths: [
      'm11.931 20.842q.266 0 .475-.191l6.626-6.397q.095-.095.286-.286t.59-.704.724-1.028.571-1.276.247-1.465q0-2.342-1.352-3.656t-3.731-1.332q-.648 0-1.332.229t-1.276.628-1.028.724-.799.724q-.382-.382-.799-.724t-1.028-.724-1.276-.628-1.332-.229q-2.38 0-3.731 1.332t-1.352 3.656q0 2.342 2.437 4.779l6.606 6.377q.191.191 .475.191z', //HEART
      'M17.875 16.938q0 .469-.312.781l-.937.953q-.344.313-.797.313-.453 0-.781-.312l-3.172-3.187q-.328-.312-.328-.781 0-.453.375-.828l-2.234-2.234-1.094 1.094q-.125.125-.297.125t-.297-.125q.016.016 .109.109t.109.109 .094.094 .078.125 .063.125 .047.141 0 .156q0 .328-.234.594-.031.016-.141.156t-.172.172-.156.141-.203.141-.187.078-.219.047q-.359 0-.594-.25l-3.562-3.562q-.25-.234-.25-.594 0-.109.047-.219t.078-.187.141-.203.141-.156.172-.172.156-.141q.266-.234.594-.234.094 0 .156 0t.141.047 .125.063 .125.078 .094.094 .109.109 .109.109q-.125-.125-.125-.297t.125-.297l3.031-3.031q.125-.125.297-.125t.297.125q-.016-.016-.109-.109t-.109-.109-.094-.109-.078-.109-.047-.125-.062-.141 0-.156q0-.328.234-.594.031-.031.141-.156t.172-.172.156-.156.203-.125.188-.078.219-.047q.359 0 .594.25l3.563 3.563q.25.234 .25.594 0 .109-.047.219t-.078.188-.125.203-.156.156-.172.172-.156.141q-.266.234-.594.234-.094 0-.156 0t-.141-.062-.125-.047-.109-.078-.109-.094-.109-.109-.109-.109q.125.125 .125.297t-.125.297l-1.094 1.094 2.234 2.234q.375-.375.828-.375.453 0 .797.328l3.172 3.156q.313.344 .313.797z', // HAMMER LEFT
      'M5.469 16.61q0 .469.312 .781l.937.953q.344.313 .797.313 .453 0 .781-.312l3.172-3.187q.328-.312.328-.781 0-.453-.375-.828l2.234-2.234 1.094 1.094q.125.125 .297.125t.297-.125q-.016.016-.109.109t-.109.109-.094.094-.078.125-.063.125-.047.141 0 .156q0 .328.234 .594.031 .016.141 .156t.172.172 .156.141 .203.141 .187.078 .219.047q.359 0 .594-.25l3.562-3.562q.25-.234.25-.594 0-.109-.047-.219t-.078-.187-.141-.203-.141-.156-.172-.172-.156-.141q-.266-.234-.594-.234-.094 0-.156 0t-.141.047-.125.063-.125.078-.094.094-.109.109-.109.109q.125-.125.125-.297t-.125-.297l-3.031-3.031q-.125-.125-.297-.125t-.297.125q.016-.016.109-.109t.109-.109.094-.109.078-.109.047-.125.062-.141 0-.156q0-.328-.234-.594-.031-.031-.141-.156t-.172-.172-.156-.156-.203-.125-.188-.078-.219-.047q-.359 0-.594.25l-3.563 3.563q-.25.234-.25.594 0 .109.047 .219t.078.188 .125.203 .156.156 .172.172 .156.141q.266.234 .594.234 .094 0 .156 0t.141-.062.125-.047.109-.078.109-.094.109-.109.109-.109q-.125.125-.125.297t.125.297l1.094 1.094-2.234 2.234q-.375-.375-.828-.375-.453 0-.797.328l-3.172 3.156q-.313.344-.313.797z' // HAMMER RIGHT
    ],
    index: 0,
    winWidth: window.innerWidth
  };
  componentDidMount() {
    window.addEventListener('resize', this.onWindowResize);
  }

  onWindowResize = () => {
    this.setState({
      winWidth: window.innerWidth
    });
  };

  goNext = () =>
    this.setState(state => ({
      index: state.index + 1 >= state.paths.length ? 0 : state.index + 1
    }));
  render() {
    const { paths, index } = this.state;
    const interpolator = interpolate(
      paths[index],
      paths[index + 1] || paths[0],
      { maxSegmentLength: 0.1 }
    );
    return (
      <svg
        width={
          this.state.winWidth < 420
            ? this.state.winWidth * 0.8
            : this.state.winWidth > 1200
              ? 500
              : this.state.winWidth * 0.5
        }
        viewBox="0 0 22 22"
      >
        <LinearGradient id="gradient" from="#FFF" to="#000" />
        {/* <GradientTealBlue id="gradient" /> */}
        <g fill="url(#gradient)">
          <Spring
            reset
            native
            from={{ t: 0 }}
            to={{ t: 1 }}
            onRest={this.goNext}
          >
            {({ t }) => <animated.path d={t.interpolate(interpolator)} />}
          </Spring>
        </g>
      </svg>
    );
  }
}
